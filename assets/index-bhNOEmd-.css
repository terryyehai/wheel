@import"https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@500&family=Nunito:wght@400;600;800&display=swap";:root{--bg-primary: #0f1119;--bg-secondary: #1a1d2e;--bg-tertiary: #242840;--text-primary: #e8e9ed;--text-secondary: #8b8fa3;--text-muted: #5a5e72;--accent: #6c7bff;--accent-glow: rgba(108, 123, 255, .25);--accent-ring: rgba(108, 123, 255, .5);--success: #4ade80;--warning: #fbbf24;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 20px;--shadow-soft: 0 4px 24px rgba(0, 0, 0, .35);--shadow-glow: 0 0 40px rgba(108, 123, 255, .12);--font-main: "Nunito", "Noto Sans TC", -apple-system, BlinkMacSystemFont, sans-serif;--font-mono: "JetBrains Mono", monospace;--transition: .3s cubic-bezier(.4, 0, .2, 1);--z-bg-blobs: 0;--z-content: 1;--z-wheel-btn: 10;--z-wheel-pointer: 20;--z-overlay: 50;--glass-bg: rgba(255, 255, 255, .03);--glass-border: rgba(255, 255, 255, .08);--glass-highlight: rgba(255, 255, 255, .15);--glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, .36)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;-webkit-text-size-adjust:100%}body{font-family:var(--font-main);background:linear-gradient(160deg,var(--bg-primary) 0%,#141728 50%,#0d0f17 100%);color:var(--text-primary);min-height:100dvh;overflow-x:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.overlay-open{overflow:hidden}:focus-visible{outline:2px solid var(--accent-ring);outline-offset:2px}button,[role=button],a,input,textarea,select{touch-action:manipulation}.app{max-width:480px;margin:0 auto;padding:20px 16px 40px;min-height:100dvh;display:flex;flex-direction:column;align-items:center}.app-header{text-align:center;padding:16px 0 8px}.app-title{font-size:1.5rem;font-weight:700;letter-spacing:.04em;background:linear-gradient(135deg,var(--text-primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.app-subtitle{font-size:.8rem;color:var(--text-muted);margin-top:4px;letter-spacing:.12em;font-weight:400}.app-main{width:100%;display:flex;flex-direction:column;align-items:center;gap:20px;flex:1}.wheel-container{position:relative;width:100%;display:flex;justify-content:center;align-items:center;padding:24px 0 8px}.wheel-canvas{border-radius:50%;filter:drop-shadow(0 8px 32px rgba(0,0,0,.4));transition:filter var(--transition)}.wheel-pointer{position:absolute;top:2px;left:50%;transform:translate(-50%);z-index:var(--z-wheel-pointer);animation:pointerPulse 2s ease-in-out infinite}@keyframes pointerPulse{0%,to{transform:translate(-50%) translateY(0)}50%{transform:translate(-50%) translateY(2px)}}.wheel-center-btn{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:var(--z-wheel-btn);width:64px;height:64px;border-radius:50%;border:2px solid rgba(108,123,255,.4);background:radial-gradient(circle at 30% 30%,#2a2f4a,#1a1d2e);color:var(--text-primary);font-family:var(--font-main);font-size:.85rem;font-weight:600;letter-spacing:.06em;cursor:pointer;transition:all var(--transition);box-shadow:0 0 20px #6c7bff26;display:flex;align-items:center;justify-content:center;gap:4px}.wheel-center-btn:hover:not(:disabled){border-color:var(--accent);box-shadow:var(--shadow-glow);transform:translate(-50%,-50%) scale(1.05)}.wheel-center-btn:active:not(:disabled){transform:translate(-50%,-50%) scale(.96)}.wheel-center-btn:disabled{cursor:not-allowed;opacity:.7}.wheel-center-btn.spinning{font-size:0}.btn-spinner{width:18px;height:18px;border:2px solid rgba(255,255,255,.2);border-top-color:var(--accent);border-radius:50%;animation:btnSpin .8s linear infinite}@keyframes btnSpin{to{transform:rotate(360deg)}}.input-panel{width:100%;background:var(--bg-secondary);border-radius:var(--radius-md);border:1px solid rgba(255,255,255,.06);overflow:hidden;transition:all var(--transition);box-shadow:var(--shadow-soft)}.input-panel.collapsed{background:transparent;border-color:transparent;box-shadow:none}.panel-toggle{width:100%;display:flex;align-items:center;gap:8px;padding:12px 16px;min-height:44px;background:none;border:none;color:var(--text-secondary);font-family:var(--font-main);font-size:.8rem;cursor:pointer;transition:color var(--transition)}.panel-toggle:hover{color:var(--text-primary)}.toggle-icon{font-size:.65rem;transition:transform var(--transition)}.toggle-label{letter-spacing:.04em}.panel-content{padding:0 16px 16px;animation:fadeSlideIn .25s ease-out}@keyframes fadeSlideIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.input-label{display:block;font-size:.75rem;color:var(--text-muted);margin-bottom:8px;letter-spacing:.05em}.items-textarea{width:100%;min-height:120px;padding:12px;background:var(--bg-primary);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius-sm);color:var(--text-primary);font-family:var(--font-main);font-size:.9rem;line-height:1.6;resize:vertical;outline:none;transition:border-color var(--transition)}.items-textarea::placeholder{color:var(--text-muted)}.items-textarea:focus{border-color:#6c7bff66}.items-textarea:focus-visible{outline:none;border-color:var(--accent);box-shadow:0 0 0 1px var(--accent-ring)}.input-status{margin-top:8px;font-size:.75rem}.status-ok{color:var(--success)}.status-warning{color:var(--warning)}.result-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:var(--z-overlay);display:flex;align-items:center;justify-content:center;background:#0f1119cc;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);animation:overlayFadeIn .3s ease-out;cursor:pointer}@keyframes overlayFadeIn{0%{opacity:0}to{opacity:1}}.result-card{text-align:center;padding:40px 48px;background:linear-gradient(160deg,var(--bg-secondary),var(--bg-tertiary));border:1px solid rgba(108,123,255,.2);border-radius:var(--radius-lg);box-shadow:var(--shadow-glow),var(--shadow-soft);animation:cardPopIn .4s cubic-bezier(.34,1.56,.64,1);cursor:default;max-width:320px;width:85%;position:relative;overflow:hidden}@keyframes cardPopIn{0%{opacity:0;transform:scale(.8) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}.result-sparkle{display:flex;justify-content:center;margin-bottom:12px}.result-sparkle svg{width:32px;height:32px;animation:sparkleGlow 1.5s ease-in-out infinite alternate}@keyframes sparkleGlow{0%{filter:drop-shadow(0 0 4px rgba(108,123,255,.3));transform:scale(1)}to{filter:drop-shadow(0 0 12px rgba(108,123,255,.6));transform:scale(1.1)}}.result-label{font-size:.85rem;color:var(--text-secondary);margin-bottom:8px;letter-spacing:.1em;text-transform:uppercase;font-weight:500}.result-value{font-size:1.8rem;font-weight:700;color:var(--text-primary);line-height:1.3;word-break:break-word;background:linear-gradient(135deg,#fff,var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:resultPulse 2s ease-in-out infinite alternate}@keyframes resultPulse{0%{filter:brightness(1)}to{filter:brightness(1.15)}}.result-actions{margin-top:24px;display:flex;flex-direction:column;align-items:center;gap:12px}.result-again-btn{padding:10px 28px;min-height:44px;border-radius:var(--radius-sm);border:1px solid var(--accent);background:transparent;color:var(--accent);font-family:var(--font-main);font-size:.85rem;font-weight:500;letter-spacing:.04em;cursor:pointer;transition:all var(--transition)}.result-again-btn:hover{background:var(--accent);color:#fff;box-shadow:0 0 20px var(--accent-glow)}.result-hint{font-size:.7rem;color:var(--text-muted);letter-spacing:.08em}.confetti-container{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;overflow:hidden}.confetti-particle{position:absolute;width:6px;height:6px;border-radius:50%;top:50%;left:50%;animation:confettiBurst 1.2s ease-out forwards}@keyframes confettiBurst{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{opacity:0}}.confetti-particle:nth-child(1){animation-name:confetti1;background:var(--accent)}.confetti-particle:nth-child(2){animation-name:confetti2;background:#a78bfa}.confetti-particle:nth-child(3){animation-name:confetti3;background:#fbbf24}.confetti-particle:nth-child(4){animation-name:confetti4;background:#4ade80}.confetti-particle:nth-child(5){animation-name:confetti5;background:#f472b6}.confetti-particle:nth-child(6){animation-name:confetti6;background:var(--accent)}.confetti-particle:nth-child(7){animation-name:confetti7;background:#a78bfa}.confetti-particle:nth-child(8){animation-name:confetti8;background:#38bdf8}@keyframes confetti1{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(60px,-80px) scale(1);opacity:0}}@keyframes confetti2{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(-70px,-60px) scale(1.2);opacity:0}}@keyframes confetti3{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(80px,40px) scale(.8);opacity:0}}@keyframes confetti4{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(-50px,70px) scale(1);opacity:0}}@keyframes confetti5{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(30px,-90px) scale(1.1);opacity:0}}@keyframes confetti6{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(-80px,-20px) scale(.9);opacity:0}}@keyframes confetti7{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(50px,60px) scale(1);opacity:0}}@keyframes confetti8{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(-30px,80px) scale(1.2);opacity:0}}@media(min-width:480px){.app{padding-top:40px}.app-title{font-size:1.8rem}.wheel-center-btn{width:72px;height:72px;font-size:.9rem}.wheel-center-btn.spinning{font-size:0}}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}.wheel-pointer,.result-value{animation:none}.result-sparkle svg{animation:none}.confetti-particle{display:none}}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--text-muted);border-radius:2px}@keyframes spin-glow{0%,to{box-shadow:0 0 15px #ffd7001a}50%{box-shadow:0 0 30px #ffd70066,0 0 50px #ff450033}}.wheel-glow{animation:spin-glow .5s infinite alternate}@keyframes pointer-tick{0%{transform:translate(-50%) rotate(0)}30%{transform:translate(-50%) rotate(-25deg)}to{transform:translate(-50%) rotate(0)}}.pointer-ticking{animation:pointer-tick .15s ease-out}.mode-selector-container{display:flex;flex-direction:column;align-items:center;width:100%;max-width:600px;position:relative;z-index:var(--z-content);animation:fade-in .5s ease-out}.mode-selector-title{font-size:1.25rem;font-weight:700;color:var(--text-primary);margin-bottom:24px;text-align:center;text-shadow:0 2px 4px rgba(0,0,0,.5);position:relative;z-index:2}.mode-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:16px;width:100%;position:relative;z-index:2}.mode-card{background:var(--glass-bg);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid var(--glass-border);border-radius:20px;padding:24px 20px;display:flex;flex-direction:column;align-items:center;text-align:center;cursor:pointer;transition:all .3s cubic-bezier(.2,.8,.2,1);position:relative;overflow:hidden;height:100%;box-shadow:var(--glass-shadow)}.mode-card:hover{transform:translateY(-6px) scale(1.02);background:#ffffff14;border-color:var(--glass-highlight);box-shadow:0 15px 40px #0006,0 0 25px var(--mode-color)}.mode-card:active{transform:translateY(-2px) scale(.98)}.blob-container{position:absolute;top:-50px;left:-50px;right:-50px;bottom:-50px;z-index:0;pointer-events:none;overflow:hidden}.blob{position:absolute;border-radius:50%;filter:blur(50px);opacity:.5;animation:blob-float 8s infinite alternate cubic-bezier(.4,0,.2,1)}.blob-1{top:0;left:10%;width:180px;height:180px;background:var(--accent);animation-duration:10s}.blob-2{bottom:0;right:10%;width:220px;height:220px;background:#a78bfa;animation-duration:12s;animation-direction:alternate-reverse}.blob-3{top:40%;left:40%;width:150px;height:150px;background:#fbbf24;opacity:.3;animation-duration:15s}@keyframes blob-float{0%{transform:translate(0) scale(1)}to{transform:translate(30px,-30px) scale(1.1)}}.mode-card:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--mode-color, #6c7bff);opacity:.7}.mode-card:hover{transform:translateY(-4px);background:#282d41cc;box-shadow:0 8px 20px #0000004d,0 0 15px var(--mode-color-glow, rgba(108, 123, 255, .2));border-color:#fff3}.mode-icon{font-size:32px;margin-bottom:12px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.mode-name{font-size:16px;font-weight:600;color:var(--text-primary);margin-bottom:4px}.mode-mid-desc{font-size:12px;color:var(--text-muted);line-height:1.4}.mode-arrow{margin-top:auto;padding-top:12px;color:var(--mode-color);font-weight:700;opacity:0;transform:translate(-10px);transition:all .2s ease}.mode-card:hover .mode-arrow{opacity:1;transform:translate(0)}@keyframes fade-in{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.back-btn{background:transparent;border:none;color:var(--text-secondary);font-size:24px;cursor:pointer;padding:8px;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;transition:all .2s;margin-right:12px}.back-btn:hover{background:#ffffff1a;color:var(--text-primary)}.scratch-start-container{padding:40px;text-align:center;width:100%}.scratch-start-btn{padding:16px 48px;font-size:1.2rem;font-weight:700;color:#fff;background:linear-gradient(135deg,#fbbf24,#d97706);border:none;border-radius:50px;cursor:pointer;box-shadow:0 4px 15px #fbbf2466;transition:transform .2s,box-shadow .2s}.scratch-start-btn:hover:not(:disabled){transform:translateY(-2px) scale(1.05);box-shadow:0 8px 25px #fbbf2499}.scratch-start-btn:active:not(:disabled){transform:translateY(1px) scale(.98)}.scratch-card-container{position:relative;width:100%;max-width:300px;aspect-ratio:3/2;margin:20px auto;border-radius:12px;overflow:hidden;box-shadow:0 10px 30px #00000080;-webkit-user-select:none;user-select:none}.scratch-result-bg{position:absolute;top:0;right:0;bottom:0;left:0;background:#fff;display:flex;align-items:center;justify-content:center;z-index:1}.scratch-result-text{font-size:1.5rem;font-weight:800;color:#333;padding:20px;text-align:center;word-break:break-all}.scratch-canvas{position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;touch-action:none;cursor:crosshair}.gachapon-container{width:100%;height:500px;display:flex;justify-content:center;align-items:center;position:relative}.gachapon-machine{position:relative;width:100%;max-width:300px;aspect-ratio:2/3;height:auto}.gachapon-svg{width:100%;height:100%;filter:drop-shadow(0 10px 20px rgba(0,0,0,.5))}.gachapon-knob-container{position:absolute;top:310px;left:50%;transform:translate(-50%);width:80px;height:80px;z-index:10;display:flex;justify-content:center;align-items:center}.gachapon-knob{width:70px;height:70px;border-radius:50%;background:#e0e0e0;border:4px solid #b2bec3;box-shadow:inset 0 -4px 10px #0003,0 4px 10px #0000004d;transition:transform .6s cubic-bezier(.175,.885,.32,1.275);display:flex;justify-content:center;align-items:center}.knob-bar{width:50px;height:12px;background:#b2bec3;border-radius:6px;position:absolute}.knob-center{width:20px;height:20px;background:#dfe6e9;border-radius:50%;z-index:2;border:2px solid #b2bec3}.gachapon-hint-text{position:absolute;bottom:-40px;left:50%;transform:translate(-50%);color:var(--text-muted);font-size:.9rem;font-weight:600;letter-spacing:.1em;animation:pulse 1.5s infinite}@keyframes pulse{0%,to{opacity:.6}50%{opacity:1}}.gachapon-ball{position:absolute;width:60px;height:60px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#fff,var(--ball-color));box-shadow:inset -2px -2px 10px #0000004d,0 5px 15px #0006;z-index:20;cursor:pointer;overflow:hidden;left:50%;transform:translate(-50%);top:360px}.gachapon-ball.dropping{animation:ballDrop .8s cubic-bezier(.25,.46,.45,.94) forwards}.gachapon-ball.open{animation:ballCenterAndOpen .6s cubic-bezier(.175,.885,.32,1.275) forwards}.gachapon-ball.opened{opacity:0;transition:opacity .5s;pointer-events:none}.ball-upper{position:absolute;top:0;left:0;width:100%;height:50%;background:var(--ball-color);border-bottom:2px solid rgba(0,0,0,.1);transform-origin:bottom center;transition:transform .4s ease-out}.ball-lower{position:absolute;bottom:0;left:0;width:100%;height:50%;background:#fff;transform-origin:top center;transition:transform .4s ease-out}.ball-center-ring{position:absolute;top:50%;left:0;width:100%;height:4px;background:#0000001a;transform:translateY(-50%)}@keyframes ballDrop{0%{top:320px;transform:translate(-50%) scale(.6) rotate(0);opacity:0}40%{top:370px;transform:translate(-50%) scale(1) rotate(20deg);opacity:1}60%{top:350px;transform:translate(-50%) scale(1) rotate(-10deg)}80%{top:365px;transform:translate(-50%) scale(1) rotate(5deg)}to{top:360px;transform:translate(-50%) scale(1) rotate(0)}}@keyframes ballCenterAndOpen{0%{top:360px;transform:translate(-50%) scale(1)}to{top:200px;transform:translate(-50%) scale(2.5)}}.gachapon-ball.open .ball-upper{transform:rotateX(-120deg) translateY(-20px);opacity:0}.gachapon-ball.open .ball-lower{transform:rotateX(120deg) translateY(20px);opacity:0}.card-mode-container{width:100%;min-height:400px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.card-start-view{text-align:center}.card-preview-grid{display:flex;justify-content:center;gap:10px;margin-bottom:30px;height:120px}.card-preview-item{width:80px;height:120px;background:linear-gradient(135deg,#2c3e50,#000);border:1px solid rgba(255,255,255,.2);border-radius:8px;box-shadow:0 4px 10px #00000080}.card-start-btn{padding:12px 32px;border:1px solid rgba(108,123,255,.5);background:#6c7bff1a;color:var(--accent);border-radius:20px;font-size:1rem;cursor:pointer;transition:all .2s}.card-start-btn:hover{background:var(--accent);color:#fff;box-shadow:0 0 15px var(--accent-glow)}.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:16px;width:100%;max-width:600px;perspective:1000px}.card-wrapper{position:relative;width:100%;aspect-ratio:2/3;cursor:pointer;transform-style:preserve-3d;transition:transform .6s cubic-bezier(.175,.885,.32,1.275),opacity .3s}.card-wrapper.dimmed{opacity:.3;pointer-events:none}.card-wrapper:hover:not(.flipped):not(.dimmed){transform:translateY(-10px)}.card-inner{position:relative;width:100%;height:100%;text-align:center;transition:transform .6s;transform-style:preserve-3d}.card-wrapper.flipped .card-inner{transform:rotateY(180deg)}.card-front,.card-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:8px;box-shadow:0 4px 8px #0000004d;display:flex;align-items:center;justify-content:center}.card-front{background:#1a1a1a;border:2px solid #444;background-image:repeating-linear-gradient(45deg,transparent,transparent 10px,#222 10px,#222 20px),repeating-linear-gradient(-45deg,transparent,transparent 10px,#222 10px,#222 20px)}.card-pattern{width:80%;height:80%;border:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:center}.card-pattern:after{content:"â˜…";font-size:24px;color:#ffffff1a}.card-back{background:#fff;color:#333;transform:rotateY(180deg);padding:10px;border:4px solid #fff}.card-text{font-weight:700;font-size:.9rem;word-break:break-word}.card-hint{margin-top:20px;color:var(--text-muted);font-size:.9rem;animation:fade-in .5s}@keyframes shuffleMove{0%{transform:translate(0) rotate(0)}50%{transform:translate(var(--center-x),var(--center-y)) rotate(calc(var(--i) * 5deg))}to{transform:translate(0) rotate(0)}}.card-grid.shuffling .card-wrapper{animation:cardShuffle 1s ease-in-out infinite}@keyframes cardShuffle{0%,to{transform:translate(0)}25%{transform:translate(5px)}75%{transform:translate(-5px)}}.omikuji-container{width:100%;min-height:500px;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}.omikuji-cylinder{position:relative;width:200px;height:300px;cursor:pointer;transition:transform .3s;-webkit-user-select:none;user-select:none}.omikuji-cylinder:hover:not(.shaking){transform:scale(1.05)}.omikuji-svg{width:100%;height:100%;filter:drop-shadow(0 10px 20px rgba(0,0,0,.4))}.omikuji-cylinder.shaking{animation:omikujiShake .5s ease-in-out infinite;cursor:default}@keyframes omikujiShake{0%{transform:translate(0) rotate(0)}25%{transform:translate(-10px,-10px) rotate(-5deg)}50%{transform:translateY(5px) rotate(0)}75%{transform:translate(10px,-15px) rotate(5deg)}to{transform:translate(0) rotate(0)}}.omikuji-stick-container{position:absolute;top:50px;left:50%;transform:translate(-50%);width:20px;height:0;overflow:visible;z-index:10}.omikuji-stick{width:20px;height:180px;background:#deb887;border:1px solid #8b4513;border-radius:2px;display:flex;align-items:center;justify-content:center;writing-mode:vertical-rl;font-size:14px;font-weight:700;color:#5d4037;box-shadow:2px 2px 5px #0000004d;position:absolute;bottom:0;left:0;transform-origin:bottom center;animation:stickFall 1s ease-out forwards}@keyframes stickFall{0%{transform:translateY(0) rotate(-10deg) scale(.6);opacity:0}20%{opacity:1}to{transform:translateY(-150px) rotate(15deg) scale(1.2)}}.omikuji-hint{margin-top:30px;color:var(--text-muted);font-size:1rem;animation:pulse 2s infinite}.main-content-wrapper{width:100%;animation:mainFadeIn .4s cubic-bezier(.2,.8,.2,1)}@keyframes mainFadeIn{0%{opacity:0;transform:translateY(10px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}body{transition:background .5s ease-in-out}body[data-theme=home]{background-color:#0f1119;background-image:linear-gradient(rgba(108,123,255,.08) 1px,transparent 1px),linear-gradient(90deg,rgba(108,123,255,.08) 1px,transparent 1px);background-size:40px 40px;background-position:center top}body[data-theme=wheel]{background-color:#1a0b2e;background-image:radial-gradient(circle at 50% 30%,rgba(255,215,0,.1) 0%,transparent 60%),repeating-conic-gradient(from 0deg,rgba(255,215,0,.05) 0deg 10deg,transparent 10deg 20deg)}body[data-theme=scratch]{background-color:#2c3e50;background-image:radial-gradient(transparent 0%,#0009),repeating-linear-gradient(45deg,rgba(255,255,255,.05) 0px,rgba(255,255,255,.05) 1px,transparent 1px,transparent 10px)}body[data-theme=gachapon]{background-color:#2b1f31;background-image:radial-gradient(rgba(255,105,180,.15) 20%,transparent 20%),radial-gradient(rgba(64,224,208,.15) 20%,transparent 20%);background-size:60px 60px;background-position:0 0,30px 30px}body[data-theme=card]{background-color:#0d0f17;background-image:radial-gradient(circle at 50% 0%,#1e2538 0%,transparent 70%),radial-gradient(circle at 0% 100%,#1a1a2e 0%,transparent 50%),radial-gradient(circle at 100% 100%,#16213e 0%,transparent 50%)}body[data-theme=omikuji]{background-color:#3e2723;background-image:radial-gradient(circle at 50% 100%,rgba(255,255,255,.08) 15%,transparent 16%),radial-gradient(circle at 50% 0%,rgba(255,255,255,.08) 15%,transparent 16%);background-size:60px 60px;background-position:0 0,30px 30px}.app-title{font-weight:800;letter-spacing:-.02em;text-shadow:0 2px 10px rgba(108,123,255,.3)}.app-subtitle{font-weight:500;letter-spacing:.05em;text-transform:uppercase;font-size:.85rem;opacity:.8}.input-panel textarea{font-family:"JetBrains Mono","Fira Code",var(--font-main);letter-spacing:.02em}button{font-family:var(--font-main);font-weight:600;letter-spacing:.02em;transition:all .2s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}button:active:not(:disabled){transform:scale(.96)}button.spin-btn,button.scratch-start-btn,button.card-start-btn{background:linear-gradient(135deg,#6c7bff,#4f5cd1);box-shadow:0 4px 15px #6c7bff4d,inset 0 1px #fff3;border:none;text-shadow:0 1px 2px rgba(0,0,0,.2)}button.spin-btn:hover:not(:disabled),button.scratch-start-btn:hover:not(:disabled),button.card-start-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #6c7bff80,inset 0 1px #ffffff4d}button.back-btn,.mode-card{background:#ffffff0d;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);box-shadow:0 4px 6px #0000001a}button.back-btn:hover,.mode-card:hover{background:#ffffff1a;border-color:#fff3;transform:translateY(-2px)}button:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#fff3;border-radius:50%;transform:translate(-50%,-50%);transition:width .3s,height .3s}button:active:after{width:150%;height:150%;transition:0s}@keyframes shakeSoft{0%{transform:translate(0)}25%{transform:translate(-2px,2px)}50%{transform:translate(2px,-2px)}75%{transform:translate(-2px,-2px)}to{transform:translate(0)}}@keyframes shakeHard{0%{transform:translate(0)}10%{transform:translate(-5px,-5px) rotate(-1deg)}20%{transform:translate(5px,5px) rotate(1deg)}30%{transform:translate(-5px,5px) rotate(0)}40%{transform:translate(5px,-5px) rotate(1deg)}50%{transform:translate(-5px,-5px) rotate(-1deg)}60%{transform:translate(5px,5px) rotate(0)}70%{transform:translate(-5px,5px) rotate(-1deg)}80%{transform:translate(5px,-5px) rotate(1deg)}90%{transform:translate(-5px,-5px) rotate(0)}to{transform:translate(0)}}.shake-soft{animation:shakeSoft .3s ease-in-out}.shake-hard{animation:shakeHard .5s ease-in-out}@keyframes floatBackground{0%{background-position:center top 0px}50%{background-position:center top 20px}to{background-position:center top 0px}}body[data-theme=home],body[data-theme=card],body[data-theme=omikuji]{animation:floatBackground 10s ease-in-out infinite}body.cny-theme{background:radial-gradient(circle at 50% 50%,maroon,#4d0000)!important;position:relative;overflow-x:hidden}body.cny-theme:before{content:"";position:fixed;top:0;right:0;bottom:0;left:0;background-image:radial-gradient(circle at 10% 20%,rgba(255,215,0,.05) 0%,transparent 20%),radial-gradient(circle at 90% 80%,rgba(255,215,0,.05) 0%,transparent 20%);pointer-events:none;z-index:-1}.cny-blob{position:fixed;border-radius:50%;filter:blur(80px);z-index:-1;opacity:.4;animation:floatBackground 15s ease-in-out infinite alternate}.cny-blob-1{width:400px;height:400px;background:#e60012;top:-100px;right:-100px}.cny-blob-2{width:300px;height:300px;background:gold;bottom:-50px;left:-50px;animation-delay:-5s}.cny-blob-3{width:250px;height:250px;background:#900;top:40%;left:10%;animation-delay:-2s}.cny-decoration{position:fixed;top:20px;left:20px;font-size:4rem;color:#ffd7001a;font-family:"Noto Serif TC",serif;writing-mode:vertical-rl;pointer-events:none;z-index:0}.cny-decoration-right{left:auto;right:20px}.red-envelope-container{width:100%;padding:20px;display:flex;flex-direction:column;align-items:center}.envelope-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:16px;width:100%;max-width:600px;perspective:1000px}.red-envelope{position:relative;width:100%;aspect-ratio:.75;background:linear-gradient(135deg,#e60012,#c0392b);border-radius:8px;cursor:pointer;box-shadow:0 4px 10px #0000004d;transition:transform .3s ease,box-shadow .3s ease;animation:envelope-in .5s ease-out backwards;overflow:hidden;border:1px solid rgba(255,215,0,.3)}@keyframes envelope-in{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.red-envelope.hover{transform:translateY(-5px) rotate(2deg);box-shadow:0 10px 20px #e600124d;animation:shake-slow .5s ease-in-out infinite alternate}@keyframes shake-slow{0%{transform:translateY(-5px) rotate(2deg)}to{transform:translateY(-5px) rotate(-2deg)}}.envelope-body{position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;display:flex;align-items:center;justify-content:center}.envelope-flap{position:absolute;top:0;left:0;width:100%;height:40%;background:#b9000a;border-radius:0 0 50% 50%;box-shadow:0 2px 5px #0003;transition:transform .4s ease;transform-origin:top;z-index:3}.red-envelope.open .envelope-flap{transform:rotateX(180deg);z-index:1}.envelope-decoration{font-family:"Noto Serif TC",serif;font-size:2rem;color:gold;background:#900;width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid #ffd700;box-shadow:0 2px 4px #0003;margin-top:20%}.envelope-content{position:absolute;top:10%;left:5%;width:90%;height:85%;background:#fff;border-radius:4px;z-index:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4px;transform:translateY(100%);transition:transform .5s cubic-bezier(.34,1.56,.64,1)}.red-envelope.open .envelope-content{transform:translateY(-20%)}.money-bg{width:100%;height:100%;background-image:radial-gradient(#ffd700 20%,transparent 20%);background-size:10px 10px;opacity:.1;position:absolute}.prize-text{font-size:.8rem;font-weight:800;color:#e60012;text-align:center;z-index:2;word-break:break-all}.instruction-text{margin-top:24px;font-size:1rem;color:#fbbf24;animation:pulse 2s infinite}.app-header{display:flex;flex-direction:column;gap:12px;width:100%}.header-controls{display:flex;justify-content:space-between;align-items:center;width:100%;padding:0 4px}.controls-group{display:flex;align-items:center;gap:12px}.language-selector{display:flex;gap:4px;background:#ffffff0d;padding:4px;border-radius:6px;border:1px solid var(--glass-border)}.lang-btn{background:transparent;border:none;color:var(--text-muted);font-size:.7rem;padding:4px 8px;border-radius:4px;cursor:pointer;transition:all .2s;font-weight:500}.lang-btn.active{background:var(--bg-tertiary);color:var(--text-primary);box-shadow:0 1px 2px #0003}.color-presets{display:flex;gap:6px}.color-dot{width:14px;height:14px;border-radius:50%;cursor:pointer;transition:transform .2s,box-shadow .2s;border:1px solid transparent}.color-dot:hover{transform:scale(1.1)}.color-dot.active{border-color:#fff;box-shadow:0 0 8px var(--accent-glow);transform:scale(1.1)}.sound-btn{background:#ffffff0d;border:1px solid var(--glass-border);width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;font-size:1rem}.sound-btn:hover{background:var(--bg-tertiary)}.header-title-wrapper{position:relative;display:flex;justify-content:center;align-items:center;min-height:48px}.back-btn{position:absolute;left:0;background:none;border:none;color:var(--text-secondary);font-size:1.5rem;padding:8px;cursor:pointer;transition:transform .2s;display:flex;align-items:center;justify-content:center}.back-btn:hover:not(:disabled){transform:translate(-4px);color:var(--text-primary)}.back-btn:disabled{opacity:.3;cursor:not-allowed}.title-container{display:flex;flex-direction:column;align-items:center}
